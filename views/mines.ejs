<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mines | CashMash</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/mines.css" />
    <style>
        /* --- Optional inline styles to enhance UX --- */
        .grid.locked {
            pointer-events: none;
            opacity: 0.4;
            position: relative;
        }

        .grid.locked::after {
            content: "ðŸ”’ Press Start to Play";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffd700;
            font-weight: bold;
            font-size: 1.2em;
            text-shadow: 0 0 10px #000;
        }
    </style>
</head>

<body>
    <%- include('partials/header') %>

        <section class="mines-section">
            <div class="mine-header">
                <div class="neon-title">CashMash Mines</div>
            </div>

            <div class="user-panel">
                <div class="user-info">
                    <span>ðŸ‘¤ <strong>
                            <%= user.username %>
                        </strong></span>
                    <span>ðŸ’° Chips: <strong id="balance">
                            <%= user.chips %>
                        </strong></span>
                </div>
            </div>

            <div class="mines-game">
                
                <!-- ðŸ§© Grid (locked by default) -->
                <div id="grid" class="grid locked"></div>

                <!-- âœ… Controls above grid -->
                 <div class="game-controls top">
                    <div class="bet-controls">
                        <label>ðŸ’° Bet:</label>
                        <input type="number" id="betInput" min="1" value="10" />
                        <label>ðŸ’¥ Mines:</label>
                        <select id="mineRate">
                            <option value="3">3</option>
                            <option value="5">5</option>
                            <option value="8">8</option>
                            <option value="10">10</option>
                            <option value="18">18</option>
                            <option value="24">24</option>
                        </select>
                    </div>
                    <div class="buttons">
                        <button id="newGameBtn" class="btn gold">ðŸŽ® Start Game</button>
                        <button id="cashOutBtn" class="btn gold" disabled>ðŸ’° Cash Out</button>
                    </div>
                </div>


                <div class="status">
                    Multiplier: <span id="multiplierDisplay">1.00x</span> |
                    Profit: <span id="profitDisplay">0</span>
                </div>

                    <!-- âœ¨ Popup message -->
    <div id="popupMessage" class="popup-message"></div>
            </div>
        </section>

        <%- include('partials/footer') %>
            <script src="/js/mines.js"></script>
</body>

</html>