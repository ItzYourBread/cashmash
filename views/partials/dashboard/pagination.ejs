<%
  // --- Dynamic Variable Selection ---
  let totalPages = 0;
  let pageNumber = 1;
  let currentSectionName = activeSection; // Inherited from the main dashboard render

  // Map variables based on the active section
  if (activeSection === 'deposit') {
    totalPages = depositPages;
    pageNumber = depositPage;
  } else if (activeSection === 'withdraw') {
    totalPages = withdrawalPages;
    pageNumber = withdrawalPage;
  } else if (activeSection === 'history') {
    totalPages = historyPages;
    pageNumber = historyPage;
  } else if (activeSection === 'rakeback') {
    totalPages = rakePages;
    pageNumber = rakePage;
  } else if (activeSection === 'referral') { // âœ… NEW: Referral Section
    totalPages = referralPages;
    pageNumber = referralPage;
  }

  // Only display pagination if there is more than one page of results
  if (totalPages && totalPages > 1) {
%>

<div class="pagination-container">
  <ul class="pagination">
    
    <li class="page-item <%= pageNumber === 1 ? 'disabled' : '' %>">
      <a class="page-link" 
         href="/dashboard?section=<%= currentSectionName %>&page=<%= pageNumber - 1 %>" 
         aria-label="Previous">
        &laquo;
      </a>
    </li>
    
    <% for (let i = 1; i <= totalPages; i++) { %>
      <li class="page-item <%= pageNumber === i ? 'active' : '' %>">
        <a class="page-link" 
           href="/dashboard?section=<%= currentSectionName %>&page=<%= i %>">
          <%= i %>
        </a>
      </li>
    <% } %>
    
    <li class="page-item <%= pageNumber === totalPages ? 'disabled' : '' %>">
      <a class="page-link" 
         href="/dashboard?section=<%= currentSectionName %>&page=<%= pageNumber + 1 %>" 
         aria-label="Next">
        &raquo;
      </a>
    </li>
    
  </ul>
</div>

<% } %>